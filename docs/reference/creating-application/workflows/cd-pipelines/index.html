<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="CD Pipelines Create CD Pipeline  Click on &ldquo;&#43;&rdquo; on CI Pipeline to attach a CD Pipeline
 Select Deploy to Environment to create CD Pipeline
      Key Description     Pipeline Name Enter the name of the pipeline to be created   Environment Select the environment   Deployment Strategy Select the type of deployment strategy that you want to enable by clicking &ldquo;Add Deployment Strategy&rdquo;    Click on Create Pipeline to create the CD Pipeline"><meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.niveshopstree.tk/docs/reference/creating-application/workflows/cd-pipelines/" />

<title>C D Pipelines | Devtron Labs tutorial</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.6df681b0bb21155cba49f6078e3559216772d8e03e780d240c73ea21817ed5e5.css" integrity="sha256-bfaBsLshFVy6SfYHjjVZIWdy2OA&#43;eA0kDHPqIYF&#43;1eU=">
<script defer src="/en.search.min.509c59bc3c6381dad9a69b37a12c90a69fde6d876eb9e6732b1bbb821d640905.js" integrity="sha256-UJxZvDxjgdrZpps3oSyQpp/ebYduueZzKxu7gh1kCQU="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-154884741-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<link rel="alternate" type="application/rss+xml" href="https://www.niveshopstree.tk/docs/reference/creating-application/workflows/cd-pipelines/index.xml" title="Devtron Labs tutorial" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>Devtron Labs tutorial</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <strong><ul id="book-search-results"></ul></strong>
</div>










  



  
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <span>Reference</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/" class="collapsed ">Creating Application</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/git-material/" class="">Git Material</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/docker-configuration/" class="">Docker Configuration</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/deployment-template/" class="">Deployment Template</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/workflows/" class="collapsed ">Workflows</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/workflows/ci-pipelines/" class="">C I Pipelines</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/workflows/cd-pipelines/" class="active">C D Pipelines</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/config-maps/" class="">Config Maps</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/secrets/" class="">Secrets</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/environment-overrides/" class="">Environment Overrides</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/cloning-applications/" class="">Cloning Applications</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/deploying-applications/" class="collapsed ">Deploying Applications</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/deploy-chart/" class="collapsed ">Deploy Chart</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/debugging-deployments-and-monitoring/" class="">Debugging Deployments and Monitoring</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/namespaces-and-environments-/" class="">Namespaces and Environments </a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/global-configurations/" class="collapsed ">Global Configurations</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/deleting-applications/" class="">Deleting Applications</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/use-cases/" class="collapsed ">Use Cases</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  











  
<ul>
  
  <li><b>
   <b> <a href="/posts/" >
         
      </a></b>
  </li></b>
  
</ul>





</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>C D Pipelines</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#create-cd-pipeline">Create CD Pipeline</a></li>
    <li><a href="#update-cd-pipeline">Update CD Pipeline</a></li>
    <li><a href="#delete-cd-pipeline">Delete CD Pipeline</a></li>
    <li><a href="#prepost-cd-stage">Pre/Post CD Stage</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#deployment-strategies">Deployment Strategies</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="cd-pipelines">CD Pipelines</h1>
<h2 id="create-cd-pipeline">Create CD Pipeline</h2>
<p><!-- raw HTML omitted --></p>
<p><img src="./workflow-editor5.PNG" alt="Add CI Pipeline" title="Add CI Pipeline"/></p>
<p>  </p>
<p>Click on &ldquo;+&rdquo; on CI Pipeline to attach a CD Pipeline</p>
<p>  </p>
<p><img src="./workflow-editor6.PNG" alt="Add CI Pipeline" title="Add CI Pipeline"/>
Select Deploy to Environment to create CD Pipeline</p>
<p>  </p>
<p><img src="./workflow-editor8-resize.PNG" alt="Workflow" /></p>
<p>  </p>
<!-- raw HTML omitted -->
<p>  </p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Pipeline Name</code></td>
<td>Enter the name of the pipeline to be created</td>
</tr>
<tr>
<td><code>Environment</code></td>
<td>Select the environment</td>
</tr>
<tr>
<td><code>Deployment Strategy</code></td>
<td>Select the type of deployment strategy that  you want to enable by clicking &ldquo;Add Deployment Strategy&rdquo;</td>
</tr>
</tbody>
</table>
<p>Click on <code>Create Pipeline</code> to create the CD Pipeline</p>
<p>  </p>
<p><img src="./workflow-editor9.PNG" alt="Add CI Pipeline" title="Add CI Pipeline"/></p>
<p><!-- raw HTML omitted --></p>
<p>The CD Pipeline is created</p>
<p><!-- raw HTML omitted --></p>
<h2 id="update-cd-pipeline">Update CD Pipeline</h2>
<p>You can update the CD Pipeline, updatations such as adding Deployment Stage, Deployment Strategy but you cannot update the name of CD Pipeline or it&rsquo;s Deploy Environment, if you require to change such configurations you need to make another CD Pipeline</p>
<p><!-- raw HTML omitted --></p>
<p>To Update a CD Pipeline, go to the App Configurations and then click on Workflow editor</p>
<p>  </p>
<p><img src="./update_pipeline_cd.jpg" alt="Update CD Pipeline" title="Update CD Pipeline"/></p>
<p>  </p>
<p>Click on your CD Pipeline to Update/Delete the  CD Pipeline</p>
<p>  </p>
<p><img src="./edit_cd_pipeline.jpg" alt="Update CD Pipeline" title="Update CD Pipeline"/></p>
<p><!-- raw HTML omitted --></p>
<p>Click on <code>Update Pipeline</code> to update the CD Pipeline</p>
<p><!-- raw HTML omitted --></p>
<h2 id="delete-cd-pipeline">Delete CD Pipeline</h2>
<p>If you no longer require the CD Pipeline, you can also Delete the Pipeline.</p>
<p><!-- raw HTML omitted --></p>
<p>To Delete a CD Pipeline, go to the App Configurations and then click on Workflow editor</p>
<p>  </p>
<p><img src="./edit_cd_pipeline.jpg" alt="Delete CD Pipeline" title="Delete CD Pipeline"/></p>
<p><!-- raw HTML omitted --></p>
<p>Click on <code>Delete Pipeline</code> to delete the CD Pipeline</p>
<!-- raw HTML omitted -->
<h2 id="prepost-cd-stage">Pre/Post CD Stage</h2>
<h5 id="pre-deployment-stage">Pre-deployment Stage</h5>
<p>Configure actions like db migration, that you want to run before the deployment.</p>
<p>  </p>
<p><img src="./cd_pre_build.jpg" alt="Add CI Pipeline" title="Add CD Pipeline"/></p>
<p>  </p>
<p><code>Execute in application Environment</code>: If checked, the pre-cd / post-cd pods are created in the deployment cluster otherwise they&rsquo;re created in the devtron build cluster,
running in Deployment cluster is recommended if your scripts interact with the cluster services which are not publically exposed</p>
<h5 id="post-deployment-stage">Post-deployment Stage</h5>
<p>Configure actions like jira ticket close,that you want to run after the deployment.</p>
<p>  </p>
<p><img src="./cd_post_build.jpg" alt="Add CI Pipeline" title="Add CD Pipeline"/></p>
<p>  </p>
<p><code>Execute in application Environment</code>: If checked, the pre-cd / post-cd pods are created in the deployment cluster otherwise they&rsquo;re created in the devtron build
cluster, running in Deployment cluster is recommended if your scripts interact with the cluster services which are not publically exposed</p>
<p><!-- raw HTML omitted --></p>
<h2 id="deployment-strategies">Deployment Strategies</h2>
<p>A deployment strategy is a way to make changes to an application, without downtime in a way that the user barely notices the changes.
There are different types of deployment strategies like Blue/Green Strategy, Rolling Strategy, Canary Strategy, Recreate Strategy.
These deployment configuration-based strategies are discussed in this section.
<!-- raw HTML omitted --></p>
<h5 id="blue-green-stategy">Blue Green Stategy</h5>
<p>Blue-green deployments involve running two versions of an application at the same time and moving traffic from the in-production version (the green version)
to the newer version (the blue version).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">blueGreen:
 autoPromotionSeconds: 30
 scaleDownDelaySeconds: 30
 previewReplicaCount: 1
 autoPromotionEnabled: false
</code></pre></div><table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>autoPromotionSeconds</code></td>
<td>It will make the rollout automatically promote the new ReplicaSet to active Service after this time has passed</td>
</tr>
<tr>
<td><code>scaleDownDelaySeconds</code></td>
<td>It is used to delay scaling down the old ReplicaSet after the active Service is switched to the new ReplicaSet.</td>
</tr>
<tr>
<td><code>previewReplicaCount</code></td>
<td>It will indicate the number of replicas that the new version of an application should run</td>
</tr>
<tr>
<td><code>autoPromotionEnabled</code></td>
<td>It will make the rollout automatically promote the new ReplicaSet to the active service.</td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --></p>
<h5 id="rolling-strategy">Rolling Strategy</h5>
<p>A rolling deployment slowly replaces instances of the previous version of an application with instances of the new version of the application.
Rolling deployment typically waits for new pods to become ready via a readiness check before scaling down the old components.
If a significant issue occurs, the rolling deployment can be aborted.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">rolling:
  maxSurge: &#34;25%&#34;
  maxUnavailable: 1
</code></pre></div><table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>maxSurge</code></td>
<td>No. of replicas allowed above the scheduled qauntity.</td>
</tr>
<tr>
<td><code>maxUnavailable</code></td>
<td>Maximum number of pods allowed to be unavailable.</td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --></p>
<h5 id="canary-strategy">Canary Strategy</h5>
<p>Canary deployments are a pattern for rolling out releases to a subset of users or servers. The idea is to first deploy the change to a small subset of servers,
test it, and then roll the change out to the rest of the servers.
The canary deployment serves as an early warning indicator with less impact on downtime: if the canary deployment fails, the rest of the servers aren&rsquo;t impacted.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">canary:
  maxSurge: &#34;25%&#34;
  maxUnavailable: 1
  steps:
    - setWeight: 25
    - pause:
        duration: 15 # 1 min
    - setWeight: 50
    - pause:
        duration: 15 # 1 min
    - setWeight: 75
    - pause:
        duration: 15 # 1 min
</code></pre></div><table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>maxSurge</code></td>
<td>It defines the maximum number of replicas the rollout can create to move to the correct ratio set by the last setWeight</td>
</tr>
<tr>
<td><code>maxUnavailable</code></td>
<td>The maximum number of pods that can be unavailable during the update</td>
</tr>
<tr>
<td><code>setWeight</code></td>
<td>It is the required percent of pods to move to next step</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>It is used to set the duration to wait to move to the next step.</td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --></p>
<h5 id="recreate">Recreate</h5>
<p>The recreate strategy is a dummy deployment which consists of shutting down version A then deploying version B after version A is turned off.
A recreate deployment incurs downtime because, for a brief period, no instances of your application are running.
However, your old code and new code do not run at the same time.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">recreate: 
</code></pre></div><p>It terminate the old version and release the new one.</p>
<p><a href="https://www.niveshopstree.tk/docs/reference/creating-application/environment-overrides/">Does your app has different requirements in different Environments? Also read Environment Overrides</a></p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#create-cd-pipeline">Create CD Pipeline</a></li>
    <li><a href="#update-cd-pipeline">Update CD Pipeline</a></li>
    <li><a href="#delete-cd-pipeline">Delete CD Pipeline</a></li>
    <li><a href="#prepost-cd-stage">Pre/Post CD Stage</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#deployment-strategies">Deployment Strategies</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












