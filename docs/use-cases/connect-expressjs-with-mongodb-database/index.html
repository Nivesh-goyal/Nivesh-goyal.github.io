<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Introduction In this application, you will learn about how to create a Expressjs Application that connects to mongoDb.
Follow the below mentioned steps, to deploy the application on Devtron using mongoDb Helm Chart.
1. Deploy mongoDb Helm Chart To deploy mongoDb Helm Chart, you can refer to our documentation on Deploy mongoDb Helm Chart
2. Fork the Git Repository For this example, we are using the following GitHub Repo, you can clone this repository and make following changes in the files."><meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.niveshopstree.tk/docs/use-cases/connect-expressjs-with-mongodb-database/" />

<title>Connect Expressjs With Mongodb Database | Devtron Labs tutorial</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.6df681b0bb21155cba49f6078e3559216772d8e03e780d240c73ea21817ed5e5.css" integrity="sha256-bfaBsLshFVy6SfYHjjVZIWdy2OA&#43;eA0kDHPqIYF&#43;1eU=">
<script defer src="/en.search.min.509c59bc3c6381dad9a69b37a12c90a69fde6d876eb9e6732b1bbb821d640905.js" integrity="sha256-UJxZvDxjgdrZpps3oSyQpp/ebYduueZzKxu7gh1kCQU="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-154884741-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<link rel="alternate" type="application/rss+xml" href="https://www.niveshopstree.tk/docs/use-cases/connect-expressjs-with-mongodb-database/index.xml" title="Devtron Labs tutorial" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>Devtron Labs tutorial</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <strong><ul id="book-search-results"></ul></strong>
</div>










  



  
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <span>Reference</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/reference/creating-application/" class="collapsed ">Creating Application</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/cloning-applications/" class="">Cloning Applications</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/deploying-applications/" class="collapsed ">Deploying Applications</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/deploy-chart/" class="collapsed ">Deploy Chart</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/debugging-deployments-and-monitoring/" class="">Debugging Deployments and Monitoring</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/namespaces-and-environments-/" class="">Namespaces and Environments </a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/global-configurations/" class="collapsed ">Global Configurations</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/reference/deleting-applications/" class="">Deleting Applications</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/use-cases/" class="collapsed ">Use Cases</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/use-cases/devtron-generic-charts-to-run-cron-jobs-or-one-time-job/" class="">Devtron Generic Charts to Run Cron Jobs or One Time Job</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/use-cases/connect-spring-boot-with-mysql-database/" class="">Connect Spring Boot With Mysql Database</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/use-cases/connect-expressjs-with-mongodb-database/" class="active">Connect Expressjs With Mongodb Database</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/use-cases/connect-django-with-mysql-database/" class="">Connect Django With Mysql Database</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  











  
<ul>
  
  <li><b>
   <b> <a href="/posts/" >
         
      </a></b>
  </li></b>
  
</ul>





</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Connect Expressjs With Mongodb Database</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#1-deploy-mongodb-helm-chart"><strong>1. Deploy mongoDb Helm Chart</strong></a></li>
    <li><a href="#2-fork-the-git-repository"><strong>2. Fork the Git Repository</strong></a>
      <ul>
        <li><a href="#-dockerfile">* <strong>Dockerfile</strong></a></li>
        <li><a href="#-dbjs-file">* <strong>db.js File</strong></a></li>
      </ul>
    </li>
    <li><a href="#3-create-application-on-devtron"><strong>3. Create Application on Devtron</strong></a>
      <ul>
        <li><a href="#-git-material">* <strong>Git Material</strong></a></li>
        <li><a href="#-docker-configuration">* <strong>Docker configuration</strong></a></li>
        <li><a href="#-configure-deployment-template">* <strong>Configure Deployment Template</strong></a></li>
        <li><a href="#-set-up-the-cicd-pipelines">* <strong>Set up the CI/CD Pipelines</strong></a></li>
        <li><a href="#-trigger-pipelines">* <strong>Trigger Pipelines</strong></a></li>
      </ul>
    </li>
    <li><a href="#4-final-step"><strong>4. Final Step</strong></a></li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="introduction">Introduction</h1>
<p><!-- raw HTML omitted --></p>
<p>In this application, you will learn about how to create a Expressjs Application that connects to mongoDb.</p>
<p>Follow the below mentioned steps, to deploy the application on Devtron using mongoDb Helm Chart.</p>
<p><!-- raw HTML omitted --></p>
<h2 id="1-deploy-mongodb-helm-chart"><strong>1. Deploy mongoDb Helm Chart</strong></h2>
<p>To deploy mongoDb Helm Chart, you can refer to our documentation on <a href="https://docs.devtron.ai/docs/reference/deploy-chart/examples/deploying-mongodb-helm-chart/">Deploy mongoDb Helm Chart</a></p>
<p><!-- raw HTML omitted --></p>
<h2 id="2-fork-the-git-repository"><strong>2. Fork the Git Repository</strong></h2>
<p>For this example, we are using the following <a href="https://github.com/devtron-labs/DockerNodeMongo">GitHub Repo</a>, you can clone this repository and make following changes in the files.</p>
<h3 id="-dockerfile">* <strong>Dockerfile</strong></h3>
<p>This is the Dockerfile. This exposes our expressjs application to port number 8080</p>
<p>  </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM node:7
WORKDIR /app
COPY package.json /app
RUN npm install
COPY . /app
CMD node server.js
EXPOSE <span style="color:#ae81ff">8080</span>
</code></pre></div><h3 id="-dbjs-file">* <strong>db.js File</strong></h3>
<p>This file will be used to connect to our database. This will include the <code>service-name</code> of the mongoDb Helm Chart, that you have deployed in Step1.</p>
<p>The syntax is as follows:</p>
<p><!-- raw HTML omitted -->
<code>&lt;service-name&gt;:27017/&lt;database-name&gt;</code></p>
<p>This maps our service name to mongoDb&rsquo;s port number 27017.</p>
<p>  </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">module.exports <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>
    DB: <span style="color:#e6db74">&#39;mondo-dev-mongodb-replicaset-client:27017/sale&#39;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>  </p>
<h2 id="3-create-application-on-devtron"><strong>3. Create Application on Devtron</strong></h2>
<p>To learn how to create an application on Devtron, refer to our documentation on <a href="https://docs.devtron.ai/docs/reference/creating-application/">Creating Application</a></p>
<p><!-- raw HTML omitted --></p>
<h3 id="-git-material">* <strong>Git Material</strong></h3>
<p>In this example, we are using the url of the forked Git Repository.</p>
<h3 id="-docker-configuration">* <strong>Docker configuration</strong></h3>
<p>Give, the path of the Dockerfile.</p>
<h3 id="-configure-deployment-template">* <strong>Configure Deployment Template</strong></h3>
<p>Enable <code>Ingress</code>, and give the path on which you want to host the application.</p>
<p>  </p>
<p><img src="../one.jpg" alt="ingress" title="ingress annotations"/></p>
<p>  </p>
<h3 id="-set-up-the-cicd-pipelines">* <strong>Set up the CI/CD Pipelines</strong></h3>
<p>Set up the CI/CD pipelines. You can set them to trigger automatically or manually.</p>
<h3 id="-trigger-pipelines">* <strong>Trigger Pipelines</strong></h3>
<p>Trigger the CI Pipeline, build should be <strong>Successful</strong>, then trigger the CD Pipeline, deployment pipeline will be initiated, after some time the status should be <strong>Healthy</strong></p>
<h2 id="4-final-step"><strong>4. Final Step</strong></h2>
<p>Check the Expressjs app connected to mongodb database, running successfully by hitting your application url.</p>
<p>The syntax is: <code>http://&lt;hostname&gt;/&lt;path&gt;/</code></p>
<p><em><strong>path</strong></em> will be the one that you have given in Step 3 while configuring the Deployment Template.</p>
<p>The output of our application would be as follows:</p>
<p><img src="../two.jpg" alt="path" title="database path"/></p>
<p><!-- raw HTML omitted --></p>
<p>You can see that we are getting the JSON response. We have successfully connected our expressjs application to the mongoDb database.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#1-deploy-mongodb-helm-chart"><strong>1. Deploy mongoDb Helm Chart</strong></a></li>
    <li><a href="#2-fork-the-git-repository"><strong>2. Fork the Git Repository</strong></a>
      <ul>
        <li><a href="#-dockerfile">* <strong>Dockerfile</strong></a></li>
        <li><a href="#-dbjs-file">* <strong>db.js File</strong></a></li>
      </ul>
    </li>
    <li><a href="#3-create-application-on-devtron"><strong>3. Create Application on Devtron</strong></a>
      <ul>
        <li><a href="#-git-material">* <strong>Git Material</strong></a></li>
        <li><a href="#-docker-configuration">* <strong>Docker configuration</strong></a></li>
        <li><a href="#-configure-deployment-template">* <strong>Configure Deployment Template</strong></a></li>
        <li><a href="#-set-up-the-cicd-pipelines">* <strong>Set up the CI/CD Pipelines</strong></a></li>
        <li><a href="#-trigger-pipelines">* <strong>Trigger Pipelines</strong></a></li>
      </ul>
    </li>
    <li><a href="#4-final-step"><strong>4. Final Step</strong></a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












